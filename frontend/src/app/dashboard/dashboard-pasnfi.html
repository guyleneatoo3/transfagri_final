<app-sidebar-layout>
  <section class="grid gap-4 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3" *ngIf="!isChildView">
    <button class="rounded-xl p-4 text-left shadow bg-sky-600 text-white hover:brightness-95" routerLink="/dashboard/pasnfi/emf">
      <div class="font-semibold">EMF bénéficiaires</div>
      <div class="text-3xl font-extrabold">{{ loading ? '...' : counts.emfs }}</div>
      <div class="underline text-sm">Voir détails →</div>
    </button>
    <button class="rounded-xl p-4 text-left shadow bg-emerald-600 text-white hover:brightness-95" routerLink="/dashboard/pasnfi/questionnaires">
      <div class="font-semibold">Rapports</div>
      <div class="text-3xl font-extrabold">{{ loading ? '...' : counts.questionnaires }}</div>
      <div class="underline text-sm">Voir détails →</div>
    </button>
    <button class="rounded-xl p-4 text-left shadow bg-rose-600 text-white hover:brightness-95" routerLink="/dashboard/pasnfi/activites">
      <div class="font-semibold">Activités</div>
      <div class="text-3xl font-extrabold">{{ loading ? '...' : counts.activites }}</div>
      <div class="underline text-sm">Voir détails →</div>
    </button>
  </section>
  <section class="mt-4" *ngIf="!isChildView">
    <app-kpi-charts [emfs]="counts.emfs" [indicateurs]="counts.indicateurs" [questionnaires]="counts.questionnaires" [activites]="counts.activites"></app-kpi-charts>
    <app-extra-charts [emfs]="counts.emfs" [indicateurs]="counts.indicateurs" [questionnaires]="counts.questionnaires" [activites]="counts.activites"></app-extra-charts>
  </section>
  <section *ngIf="isChildView">
    <div class="max-w-6xl mx-auto">
      <router-outlet></router-outlet>
    </div>
  </section>
</app-sidebar-layout>
